# Workflow Update - Story & Epic Completion - 2025-01-29

## Overview

Added comprehensive Story & Epic Completion Workflows to standardize quality assurance, security verification, and documentation updates throughout the development process.

## Key Changes

### 1. Added Story & Epic Completion Workflows to CLAUDE.md

Created new section documenting two-tier completion workflow:
- **Story Completion**: Quick verification after each user story
- **Epic Completion**: Comprehensive audit after completing a feature epic

The workflow ensures:
1. Visual verification with Playwright
2. Security scanning with all tools
3. Documentation updates via `/update-docs`
4. Clear progression gates between stories

### 2. Enhanced story-complete.sh Script

Updated the story completion script to:
- Add prominent reminder to run `/update-docs` after checks pass
- Clarify the complete workflow steps
- Emphasize that documentation must be updated before moving to next story

Key addition:
```bash
echo "ðŸ“¢ IMPORTANT NEXT STEP:"
echo "   Run: /update-docs"
```

### 3. Updated full-security-audit.sh for Epic Context

Enhanced the comprehensive security audit script to:
- Clarify it's for epic completion (not individual stories)
- Add epic completion checklist at the end
- Provide workflow guidance for epic finalization
- Suggest creating git tags for completed epics

### 4. Removed Obsolete Script

Deleted `visual-check.sh` as its functionality is already covered by `story-complete.sh`. This simplifies the script ecosystem and prevents confusion.

### 5. Created Comprehensive Checklist Documentation

Added `/docs/story-completion-checklist.md` with:
- Detailed checklists for both story and epic completion
- Exact commands for all manual security tools
- Troubleshooting guidance
- Epic structure examples
- Quick reference workflows

## Workflow Summary

### Story Level (After Each Story)
1. Run `.claude/scripts/story-complete.sh`
2. Fix any issues found
3. Run `/update-docs`
4. Only then proceed to next story

### Epic Level (After All Stories in Epic)
1. Run `.claude/scripts/full-security-audit.sh`
2. Run manual security tools as needed
3. Run `/update-docs` for epic summary
4. Create git tag for epic completion

## Benefits

1. **Consistent Quality**: Every story gets same verification
2. **Security First**: Multiple layers of security scanning
3. **Documentation Currency**: Docs updated after every change
4. **Clear Progression**: Can't proceed with failing checks
5. **Epic Milestones**: Comprehensive review at major feature completions

## Files Modified

- `/CLAUDE.md` - Added Story & Epic Completion Workflows section
- `/.claude/scripts/story-complete.sh` - Added /update-docs reminder
- `/.claude/scripts/full-security-audit.sh` - Added epic context
- `/.claude/scripts/visual-check.sh` - DELETED (obsolete)

## Files Created

- `/docs/story-completion-checklist.md` - Comprehensive completion guide
- `/docs/update/update-2025-01-29-workflow.md` - This documentation

## Migration Notes

Teams using the old `visual-check.sh` script should switch to `story-complete.sh` which provides more comprehensive verification including the same visual checks.

## Next Steps

1. Follow the new workflow for all future story completions
2. Run epic completion audit after finishing current epic
3. Update any automation that referenced visual-check.sh

---

Generated by Claude Code using /update-docs command
Timestamp: 2025-01-29