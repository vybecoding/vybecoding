<!-- Step 3: Content Editor -->
                    <div id="guide-creation-step-3" class="guide-creation-step">
                        <div class="vybe-card p-8">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-lg font-semibold text-white flex items-center gap-2">
                                    <div class="w-1 h-5 bg-gradient-to-b from-vybe-purple to-vybe-pink rounded-full"></div>
                                    Write Your Content
                                </h2>
                                <select class="w-auto min-w-[320px] px-4 py-2 rounded-lg border border-gray-700 bg-gray-800/80 text-white focus:border-vybe-purple-light focus:ring-1 focus:ring-vybe-purple-light transition-all appearance-none bg-[url('data:image/svg+xml;charset=US-ASCII,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 4 5\"><path fill=\"%23374151\" d=\"M2 0L0 2h4zm0 5L0 3h4z\"/></svg>')] bg-[length:12px_10px] bg-no-repeat bg-[right_12px_center]">
                                    <option>Module 1 > Lesson 1: Introduction</option>
                                    <option>Module 1 > Lesson 2: Setup Environment</option>
                                    <option selected>Module 2 > Lesson 3: Rate Limiting</option>
                                    <option>Module 2 > Lesson 4: Error Handling</option>
                                </select>
                            </div>

                            <!-- Rich Text Editor -->
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 h-[800px]">
                                <!-- Editor Panel -->
                                <div class="border border-vybe-gray-700 rounded-lg overflow-hidden flex flex-col">
                                    <!-- Toolbar -->
                                    <div class="bg-vybe-gray-900 border-b border-vybe-gray-700 p-2 flex flex-wrap gap-1">
                                        <button class="toolbar-button" title="Bold">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 4h8a4 4 0 014 4 4 4 0 01-4 4H6z"/>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 12h9a4 4 0 014 4 4 4 0 01-4 4H6z"/>
                                            </svg>
                                        </button>
                                        <button class="toolbar-button" title="Italic">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M10 4h4M14 4l-4 16m-4 0h4"/>
                                            </svg>
                                        </button>
                                        <button class="toolbar-button" title="Heading">
                                            <span class="font-bold text-sm">H</span>
                                        </button>
                                        <div class="w-px h-6 bg-vybe-gray-700 mx-1"></div>
                                        <button class="toolbar-button" title="Code">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                                                <polyline points="4 17 10 11 4 5"></polyline>
                                                <line x1="12" y1="19" x2="20" y2="19"></line>
                                            </svg>
                                        </button>
                                        <button class="toolbar-button" title="Code Block">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                            </svg>
                                        </button>
                                        <div class="w-px h-6 bg-vybe-gray-700 mx-1"></div>
                                        <button class="toolbar-button" title="Image">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                            </svg>
                                        </button>
                                        <button class="toolbar-button" title="Video">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                            </svg>
                                        </button>
                                        <div class="w-px h-6 bg-vybe-gray-700 mx-1"></div>
                                        <button class="toolbar-button" title="Tip Box">
                                            <span class="text-green-500 text-xs font-bold">TIP</span>
                                        </button>
                                        <button class="toolbar-button" title="Warning Box">
                                            <span class="text-yellow-500 text-xs font-bold">WARN</span>
                                        </button>
                                    </div>
                                    
                                    <!-- Editor Content Area -->
                                    <div class="flex-1 p-4 overflow-y-auto custom-scrollbar">
                                        <textarea class="w-full min-h-full bg-transparent text-white font-mono text-sm resize-none focus:outline-none leading-relaxed overflow-hidden" placeholder="Start writing your lesson content..." style="field-sizing: content">## Implementing Rate Limiting for Claude API

When building production applications with Claude API, implementing proper rate limiting is crucial to ensure reliable service and prevent unexpected costs. In this lesson, we'll explore best practices for rate limiting implementation.

### Understanding Claude's Rate Limits

Current limits as of 2025:
- **Requests per minute:** 60 for standard tier
- **Tokens per minute:** 100,000 tokens
- **Concurrent requests:** 10 maximum

### Basic Rate Limiter Implementation

```javascript
class RateLimiter {
  constructor(maxRequests = 60, windowMs = 60000) {
    this.maxRequests = maxRequests;
    this.windowMs = windowMs;
    this.requests = [];
  }

  async acquire() {
    const now = Date.now();
    
    // Remove old requests outside the window
    this.requests = this.requests.filter(
      time => now - time < this.windowMs
    );
    
    // Check if we can make a request
    if (this.requests.length >= this.maxRequests) {
      const oldestRequest = this.requests[0];
      const waitTime = oldestRequest + this.windowMs - now;
      await new Promise(resolve => setTimeout(resolve, waitTime));
      return this.acquire();
    }
    
    this.requests.push(now);
  }
}
```

> **üí° Tip:** Always implement exponential backoff for retries to handle temporary API issues gracefully.</textarea>
                                    </div>
                                </div>

                                <!-- Preview Panel -->
                                <div class="border border-vybe-gray-700 rounded-lg overflow-hidden">
                                    <div class="bg-vybe-gray-900 border-b border-vybe-gray-700 p-3 flex justify-between items-center">
                                        <span class="text-sm font-medium">Preview</span>
                                        <span class="text-xs text-vybe-gray-400">Live preview</span>
                                    </div>
                                    <div class="p-6 overflow-y-auto h-full custom-scrollbar">
                                        <h2 class="text-2xl font-semibold mb-4">Implementing Rate Limiting for Claude API</h2>
                                        <p class="text-vybe-gray-300 mb-6">When building production applications with Claude API, implementing proper rate limiting is crucial to ensure reliable service and prevent unexpected costs. In this lesson, we'll explore best practices for rate limiting implementation.</p>
                                        
                                        <h3 class="text-xl font-semibold mb-3">Understanding Claude's Rate Limits</h3>
                                        <p class="text-vybe-gray-300 mb-2">Current limits as of 2025:</p>
                                        <ul class="list-disc list-inside space-y-1 text-vybe-gray-300 mb-6 ml-4">
                                            <li><strong>Requests per minute:</strong> 60 for standard tier</li>
                                            <li><strong>Tokens per minute:</strong> 100,000 tokens</li>
                                            <li><strong>Concurrent requests:</strong> 10 maximum</li>
                                        </ul>
                                        
                                        <h3 class="text-xl font-semibold mb-3">Basic Rate Limiter Implementation</h3>
                                        <div class="bg-gray-700/40 border border-gray-600/30 rounded-lg p-4 mb-6">
                                            <pre class="text-sm overflow-x-auto"><code class="language-javascript">class RateLimiter {
  constructor(maxRequests = 60, windowMs = 60000) {
    this.maxRequests = maxRequests;
    this.windowMs = windowMs;
    this.requests = [];
  }

  async acquire() {
    const now = Date.now();
    
    // Remove old requests outside the window
    this.requests = this.requests.filter(
      time => now - time < this.windowMs
    );
    
    // Check if we can make a request
    if (this.requests.length >= this.maxRequests) {
      const oldestRequest = this.requests[0];
      const waitTime = oldestRequest + this.windowMs - now;
      await new Promise(resolve => setTimeout(resolve, waitTime));
      return this.acquire();
    }
    
    this.requests.push(now);
  }
}
</code></pre>
                                        </div>
                                        
                                        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
                                            <p class="text-sm"><span class="text-green-500 font-bold">üí° Tip:</span> Always implement exponential backoff for retries to handle temporary API issues gracefully.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex justify-between items-center pt-6 mt-6 border-t border-vybe-gray-800">
                                <button type="button" onclick="goToGuideStep(2)" class="btn btn-secondary">
                                    ‚Üê Back
                                </button>
                                <div class="flex items-center gap-4">
                                    <button type="button" class="btn btn-secondary">
                                        Save Draft
                                    </button>
                                    <button type="button" onclick="goToGuideStep(4)" class="btn btn-primary-purple">
                                        Next: Add Resources ‚Üí
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>